Script started on 2025-05-01 03:20:11-04:00 [TERM="xterm-256color" TTY="/dev/pts/12" COLUMNS="185" LINES="14"]
/home/nya1025/MEng-LII-2025-spring/venv/bin/python /home/nya1025/MEng-LII-2025-spring/src/code/test_subchunk.py
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ /home/nya1025/MEng-LII-2025-spring/venv/bin/python /home/nya1025/MEng-LII-2025-spring/src/code/test_subchunk.py
Traceback (most recent call last):
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_subchunk.py", line 1, in <module>
    from src.code.util import create_subchunks
ModuleNotFoundError: No module named 'src'
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ /home/nya1025/MEng-LII-2025-spring/venv/bin/python /home/nya1025/MEng-LII-2025-spring/src/code/test_subchunk.py
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python te[K[K[K[K[K[K[K[K[K/home/nya1025/MEng-LII-2025-spring/venv/bin/python /home/nya1025/MEng-LII-2025-spring/src/code/test_subchunk.py
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_subchunk.py 
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_subchunk.py 
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_subchunk.py 
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_subchunk.py 
Traceback (most recent call last):
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_subchunk.py", line 66, in <module>
    test_create_subchunks_basic()
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_subchunk.py", line 9, in test_create_subchunks_basic
    subchunks = create_subchunks(sentences, sentence_token_counts, max_tokens, overlap_pct, token_offset)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/nya1025/MEng-LII-2025-spring/src/code/util.py", line 196, in create_subchunks
    current_token_idx += chunk_tokens - overlap_tokens
    ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'current_token_idx' where it is not associated with a value
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_subchunk.py 
test 1 passed
test 2 passed
test 3 passed
test 4 passed
All tests passed.
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_subchunk.py [1P[1P[1P
Traceback (most recent call last):
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 1, in <module>
    from code.util import semantic_chunk
ModuleNotFoundError: No module named 'code.util'; 'code' is not a package
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_chunk.py 
^CTraceback (most recent call last):
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 115, in <module>
    test_semantic_chunk_basic()
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 11, in test_semantic_chunk_basic
    chunks = semantic_chunk(
             ^^^^^^^^^^^^^^^
  File "/home/nya1025/MEng-LII-2025-spring/src/code/util.py", line 128, in semantic_chunk
    chunks.append((" ".join(current_chunk), subchunks))
                   ^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
^C
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_chunk.py 
^CTraceback (most recent call last):
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 1, in <module>
    from util import semantic_chunk
  File "/home/nya1025/MEng-LII-2025-spring/src/code/util.py", line 3, in <module>
    import torch
  File "/home/nya1025/MEng-LII-2025-spring/venv/lib/python3.11/site-packages/torch/__init__.py", line 405, in <module>
    from torch._C import *  # noqa: F403
    ^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 216, in _lock_unlock_module
KeyboardInterrupt

]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_chunk.py 
test 1 passed
test 2 passed
test 3 passed
test 4 passed
Traceback (most recent call last):
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 123, in <module>
    test_semantic_chunk_token_offset()
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 112, in test_semantic_chunk_token_offset
    assert chunks[0][1][0][1] == 1
           ^^^^^^^^^^^^^^^^^^^^^^^
AssertionError
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_chunk.py 
test 1 passed
test 2 passed
test 3 passed
test 4 passed
[('A A', [('A', 3, 5)]), ('A B', [('B', 3, 6)])]
Traceback (most recent call last):
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 124, in <module>
    test_semantic_chunk_token_offset()
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 113, in test_semantic_chunk_token_offset
    assert chunks[0][1][0][1] == 1
           ^^^^^^^^^^^^^^^^^^^^^^^
AssertionError
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_chunk.py 
test 1 passed
test 2 passed
test 3 passed
test 4 passed
[('A', [('A', 3, 5)]), ('A B', [('B', 3, 6)])]
Traceback (most recent call last):
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 124, in <module>
    test_semantic_chunk_token_offset()
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 113, in test_semantic_chunk_token_offset
    assert chunks[0][1][0][1] == 1
           ^^^^^^^^^^^^^^^^^^^^^^^
AssertionError
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_chunk.py 
[]
['A', 'A']
['A', 'B']
['A', 'C']
test 1 passed
[]
['A', 'B']
['A', 'C']
['A', 'D']
test 2 passed
[]
test 3 passed
test 4 passed
[]
['A']
[('A', [('A', 3, 5)]), ('A B', [('B', 3, 6)])]
Traceback (most recent call last):
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 124, in <module>
    test_semantic_chunk_token_offset()
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 113, in test_semantic_chunk_token_offset
    assert chunks[0][1][0][1] == 1
           ^^^^^^^^^^^^^^^^^^^^^^^
AssertionError
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_chunk.py 
[]
2
['A', 'A']
3
['A', 'B']
3
['A', 'C']
3
test 1 passed
[]
2
['A', 'B']
3
['A', 'C']
3
['A', 'D']
3
test 2 passed
[]
6
test 3 passed
test 4 passed
[]
3
['A']
3
[('A', [('A', 3, 5)]), ('A B', [('B', 3, 6)])]
Traceback (most recent call last):
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 124, in <module>
    test_semantic_chunk_token_offset()
  File "/home/nya1025/MEng-LII-2025-spring/src/code/test_chunk.py", line 113, in test_semantic_chunk_token_offset
    assert chunks[0][1][0][1] == 1
           ^^^^^^^^^^^^^^^^^^^^^^^
AssertionError
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ python src/code/test_chunk.py 
[]
1
['A', 'B']
3
['A', 'C']
3
test 1 passed
[]
1
['A', 'C']
3
['A', 'D']
3
test 2 passed
[]
1
test 3 passed
test 4 passed
[]
1
[('A B', [('A B', 1, 6)])]
All tests passed.
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ [K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ git add .[K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ git add .[K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ git add .[K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ git add .[K]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ git add .
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ git commit -m "add[K[K[Kadd late chunking"
[main 19b90a5] add late chunking
 8 files changed, 1276 insertions(+), 387 deletions(-)
 create mode 100644 src/code/test_chunk.py
 create mode 100644 src/code/test_subchunk.py
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ git push
Enter passphrase for key '/home/nya1025/.ssh/normal_id': 
To github.com:LIICornell/MEng-LII-2025-spring.git
 [31m! [rejected]       [m main -> main (fetch first)
[31merror: failed to push some refs to 'github.com:LIICornell/MEng-LII-2025-spring.git'
[m[33mhint: Updates were rejected because the remote contains work that you do[m
[33mhint: not have locally. This is usually caused by another repository pushing[m
[33mhint: to the same ref. You may want to first integrate the remote changes[m
[33mhint: (e.g., 'git pull ...') before pushing again.[m
[33mhint: See the 'Note about fast-forwards' in 'git push --help' for details.[m
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ git pull
Enter passphrase for key '/home/nya1025/.ssh/normal_id': 
remote: Enumerating objects: 14, done.[K
remote: Counting objects:   7% (1/14)[Kremote: Counting objects:  14% (2/14)[Kremote: Counting objects:  21% (3/14)[Kremote: Counting objects:  28% (4/14)[Kremote: Counting objects:  35% (5/14)[Kremote: Counting objects:  42% (6/14)[Kremote: Counting objects:  50% (7/14)[Kremote: Counting objects:  57% (8/14)[Kremote: Counting objects:  64% (9/14)[Kremote: Counting objects:  71% (10/14)[Kremote: Counting objects:  78% (11/14)[Kremote: Counting objects:  85% (12/14)[Kremote: Counting objects:  92% (13/14)[Kremote: Counting objects: 100% (14/14)[Kremote: Counting objects: 100% (14/14), done.[K
remote: Compressing objects:  20% (1/5)[Kremote: Compressing objects:  40% (2/5)[Kremote: Compressing objects:  60% (3/5)[Kremote: Compressing objects:  80% (4/5)[Kremote: Compressing objects: 100% (5/5)[Kremote: Compressing objects: 100% (5/5), done.[K
Unpacking objects:  11% (1/9)Unpacking objects:  22% (2/9)Unpacking objects:  33% (3/9)Unpacking objects:  44% (4/9)Unpacking objects:  55% (5/9)Unpacking objects:  66% (6/9)Unpacking objects:  77% (7/9)remote: Total 9 (delta 4), reused 9 (delta 4), pack-reused 0 (from 0)[K
Unpacking objects:  88% (8/9)Unpacking objects: 100% (9/9)Unpacking objects: 100% (9/9), 64.71 KiB | 1.04 MiB/s, done.
From github.com:LIICornell/MEng-LII-2025-spring
   767fb24..e57faaa  main       -> origin/main
Rebasing (1/1)[KSuccessfully rebased and updated refs/heads/main.
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ git log
[?1h=[33mcommit 71b234c67567c61c7c3be9fd332cd7761a5f2b3f[m[33m ([m[1;36mHEAD -> [m[1;32mmain[m[33m)[m[m
Author: Allen Wang <aw578@cornell.edu>[m
Date:   Thu May 1 13:32:52 2025 -0400[m
[m
    add late chunking[m
[m
[33mcommit e57faaaa3c75494365ba8c30f42a6f2306e3b6f9[m[33m ([m[1;31morigin/main[m[33m, [m[1;31morigin/HEAD[m[33m)[m[m
Author: sbk22lii <sylvia@liicornell.org>[m
Date:   Wed Apr 23 16:19:04 2025 -0400[m
:[K[K[m
:[K[K    feedback[m
:[K[K[m
:[K[K[33mcommit 2e3e8df86964eb971ac4b13798cd2045973085d2[m[m
:[K[KAuthor: sbk22lii <sylvia@liicornell.org>[m
:[K[KDate:   Wed Apr 23 15:57:32 2025 -0400[m
:[K[K[m
:[K[K    custom stopwords[m
:[K[K[m
:[K[K[33mcommit 767fb248dcb98d3bb790320db29c482d304604c7[m[m
:[K[KAuthor: Allen Wang <aw578@cornell.edu>[m
:[K[KDate:   Wed Apr 23 01:49:28 2025 -0400[m
:[K[K[?1l>]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ git logpull[1Plog[Kgit push
Enter passphrase for key '/home/nya1025/.ssh/normal_id': 
Enumerating objects: 23, done.
Counting objects:   4% (1/23)Counting objects:   8% (2/23)Counting objects:  13% (3/23)Counting objects:  17% (4/23)Counting objects:  21% (5/23)Counting objects:  26% (6/23)Counting objects:  30% (7/23)Counting objects:  34% (8/23)Counting objects:  39% (9/23)Counting objects:  43% (10/23)Counting objects:  47% (11/23)Counting objects:  52% (12/23)Counting objects:  56% (13/23)Counting objects:  60% (14/23)Counting objects:  65% (15/23)Counting objects:  69% (16/23)Counting objects:  73% (17/23)Counting objects:  78% (18/23)Counting objects:  82% (19/23)Counting objects:  86% (20/23)Counting objects:  91% (21/23)Counting objects:  95% (22/23)Counting objects: 100% (23/23)Counting objects: 100% (23/23), done.
Delta compression using up to 16 threads
Compressing objects:   8% (1/12)Compressing objects:  16% (2/12)Compressing objects:  25% (3/12)Compressing objects:  33% (4/12)Compressing objects:  41% (5/12)Compressing objects:  50% (6/12)Compressing objects:  58% (7/12)Compressing objects:  66% (8/12)Compressing objects:  75% (9/12)Compressing objects:  83% (10/12)Compressing objects:  91% (11/12)Compressing objects: 100% (12/12)Compressing objects: 100% (12/12), done.
Writing objects:   7% (1/13)Writing objects:  15% (2/13)Writing objects:  23% (3/13)Writing objects:  30% (4/13)Writing objects:  38% (5/13)Writing objects:  46% (6/13)Writing objects:  53% (7/13)Writing objects:  61% (8/13)Writing objects:  69% (9/13)Writing objects:  76% (10/13)Writing objects:  84% (11/13)Writing objects:  92% (12/13)Writing objects: 100% (13/13)Writing objects: 100% (13/13), 14.33 KiB | 3.58 MiB/s, done.
Total 13 (delta 6), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/6)[Kremote: Resolving deltas:  16% (1/6)[Kremote: Resolving deltas:  33% (2/6)[Kremote: Resolving deltas:  50% (3/6)[Kremote: Resolving deltas:  66% (4/6)[Kremote: Resolving deltas:  83% (5/6)[Kremote: Resolving deltas: 100% (6/6)[Kremote: Resolving deltas: 100% (6/6), completed with 6 local objects.[K
To github.com:LIICornell/MEng-LII-2025-spring.git
   e57faaa..71b234c  main -> main
]0;nya1025@DESKTOP-C2SGU4R: ~/MEng-LII-2025-spring[01;32mnya1025@DESKTOP-C2SGU4R[00m:[01;34m~/MEng-LII-2025-spring[00m$ 