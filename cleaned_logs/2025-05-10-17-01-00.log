user: git pusgit puscommit -m "don't use late chunking for now"
add src/code/config.pyreset --mixeadd src/code/config.pycommit -m "don't use late chunking for now"
add src/code/config.pycommit -m "don't use late chunking for now"
pusturnt --diff
cd cs6120/final/
turnt --diff
turnt
ls
__pycache__  avail.py  gvn.py  ssa.py  temp_ssa.py  test_gvn.sh  test_single.sh  tests  turnt.toml  value-numbering.pdf
turnt
turturnt tests/
1..1
not ok 1 - tests/
# exit code: 1
turnt tests/*.bril --diff
1..9
--- tests/aliases.out2025-04-28 01:12:14.309674000 -0400
+++ /tmp/tmpgg1f5uy_2025-05-10 17:25:34.191791133 -0400
@@ -1,4 +1,38 @@
-Congruence classes for function main:
-Class const 7: ['a.0']
-Class id: ['b.0', 'd.0']
-Class id_0: ['c.0', 'e.0']
+{
+  "functions": [
+    {
+      "instrs": [
+        {
+          "label": "b1"
+        },
+        {
+          "dest": "a.0",
+          "op": "const",
+          "type": "int",
+          "value": 7
+        },
+        {
+          "args": [
+            "a.0"
+          ],
+          "dest": "b.0",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "b.0"
+          ],
+          "dest": "c.0",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [],
+          "op": "ret"
+        }
+      ],
+      "name": "main"
+    }
+  ]
+}
not ok 1 - tests/aliases.bril # differing: tests/aliases.out
--- tests/basic.out2025-04-28 00:44:49.750148752 -0400
+++ /tmp/tmplpxubu8m2025-05-10 17:25:34.311791107 -0400
@@ -1,3 +1,31 @@
-Congruence classes for function main:
-Class const 1: ['v1.0', 'v2.0']
-Class add: ['v3.0', 'v4.0']
+{
+  "functions": [
+    {
+      "instrs": [
+        {
+          "label": "b1"
+        },
+        {
+          "dest": "v1.0",
+          "op": "const",
+          "type": "int",
+          "value": 1
+        },
+        {
+          "args": [
+            "v1.0",
+            "v1.0"
+          ],
+          "dest": "v3.0",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [],
+          "op": "ret"
+        }
+      ],
+      "name": "main"
+    }
+  ]
+}
not ok 2 - tests/basic.bril # differing: tests/basic.out
--- tests/commute.out2025-04-28 00:44:49.840148728 -0400
+++ /tmp/tmpvwondeos2025-05-10 17:25:34.431791081 -0400
@@ -1,4 +1,37 @@
-Congruence classes for function main:
-Class const 1: ['x1.0']
-Class const 2: ['x2.0']
-Class add: ['t1.0', 't2.0']
+{
+  "functions": [
+    {
+      "instrs": [
+        {
+          "label": "b1"
+        },
+        {
+          "dest": "x1.0",
+          "op": "const",
+          "type": "int",
+          "value": 1
+        },
+        {
+          "dest": "x2.0",
+          "op": "const",
+          "type": "int",
+          "value": 2
+        },
+        {
+          "args": [
+            "x1.0",
+            "x2.0"
+          ],
+          "dest": "t1.0",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [],
+          "op": "ret"
+        }
+      ],
+      "name": "main"
+    }
+  ]
+}
not ok 3 - tests/commute.bril # differing: tests/commute.out
--- tests/control.out2025-04-28 01:12:14.579673919 -0400
+++ /tmp/tmpyfbdnu3i2025-05-10 17:25:34.561791052 -0400
@@ -1,7 +1,134 @@
-Congruence classes for function main:
-Class const 1: ['a0.0']
-Class const 3: ['b0.0']
-Class const True: ['cond.0']
-Class add: ['x1.0', 'x2.0', 'y0.0']
-Class phi: ['x2.1']
-Class phi_0: ['x1.1']
+{
+  "functions": [
+    {
+      "instrs": [
+        {
+          "label": "entry"
+        },
+        {
+          "dest": "x2.init",
+          "op": "undef",
+          "type": "int"
+        },
+        {
+          "dest": "x1.init",
+          "op": "undef",
+          "type": "int"
+        },
+        {
+          "dest": "a0.0",
+          "op": "const",
+          "type": "int",
+          "value": 1
+        },
+        {
+          "dest": "b0.0",
+          "op": "const",
+          "type": "int",
+          "value": 3
+        },
+        {
+          "dest": "cond.0",
+          "op": "const",
+          "type": "bool",
+          "value": true
+        },
+        {
+          "args": [
+            "cond.0"
+          ],
+          "labels": [
+            "block1",
+            "block2"
+          ],
+          "op": "br"
+        },
+        {
+          "label": "block1"
+        },
+        {
+          "args": [
+            "a0.0",
+            "b0.0"
+          ],
+          "dest": "x1.0",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [
+            "x2.init"
+          ],
+          "dest": "x2.1",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "x1.0"
+          ],
+          "dest": "x1.1",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "labels": [
+            "merge"
+          ],
+          "op": "jmp"
+        },
+        {
+          "label": "block2"
+        },
+        {
+          "args": [
+            "a0.0",
+            "b0.0"
+          ],
+          "dest": "x1.0",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [
+            "x1.0"
+          ],
+          "dest": "x2.1",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "x1.init"
+          ],
+          "dest": "x1.1",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "labels": [
+            "merge"
+          ],
+          "op": "jmp"
+        },
+        {
+          "label": "merge"
+        },
+        {
+          "args": [
+            "a0.0",
+            "b0.0"
+          ],
+          "dest": "x1.0",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [],
+          "op": "ret"
+        }
+      ],
+      "name": "main"
+    }
+  ]
+}
not ok 4 - tests/control.bril # differing: tests/control.out
--- tests/cycles.out2025-04-28 01:12:14.669673892 -0400
+++ /tmp/tmptkrsyipk2025-05-10 17:25:34.691791023 -0400
@@ -1,13 +1,169 @@
-Congruence classes for function main:
-Class const 0: ['a.0', 'y.0']
-Class const 1: ['one.0']
-Class const 10: ['ten.0']
-Class id: ['x.0']
-Class add: ['not_y.0']
-Class lt: ['not_c.0']
-Class phi: ['x.1']
-Class add_0: ['y.2']
-Class id_0: ['x.2']
-Class lt_0: ['c.1']
-Class phi_0: ['y.1']
-Class phi_1: ['c.0']
+{
+  "functions": [
+    {
+      "instrs": [
+        {
+          "label": "b1"
+        },
+        {
+          "dest": "c.init",
+          "op": "undef",
+          "type": "bool"
+        },
+        {
+          "dest": "a.0",
+          "op": "const",
+          "type": "int",
+          "value": 0
+        },
+        {
+          "dest": "one.0",
+          "op": "const",
+          "type": "int",
+          "value": 1
+        },
+        {
+          "dest": "ten.0",
+          "op": "const",
+          "type": "int",
+          "value": 10
+        },
+        {
+          "args": [
+            "a.0"
+          ],
+          "dest": "x.0",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "one.0",
+            "x.0"
+          ],
+          "dest": "not_y.0",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [
+            "a.0",
+            "ten.0"
+          ],
+          "dest": "not_c.0",
+          "op": "lt",
+          "type": "bool"
+        },
+        {
+          "args": [
+            "a.0"
+          ],
+          "dest": "y.1",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "x.0"
+          ],
+          "dest": "x.1",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "c.init"
+          ],
+          "dest": "c.0",
+          "op": "id",
+          "type": "bool"
+        },
+        {
+          "labels": [
+            "loop"
+          ],
+          "op": "jmp"
+        },
+        {
+          "label": "loop"
+        },
+        {
+          "args": [
+            "one.0",
+            "x.1"
+          ],
+          "dest": "y.2",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [
+            "y.2",
+            "ten.0"
+          ],
+          "dest": "c.1",
+          "op": "lt",
+          "type": "bool"
+        },
+        {
+          "args": [
+            "c.1"
+          ],
+          "labels": [
+            "then",
+            "end"
+          ],
+          "op": "br"
+        },
+        {
+          "label": "then"
+        },
+        {
+          "args": [
+            "y.2"
+          ],
+          "dest": "x.2",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "y.2"
+          ],
+          "dest": "y.1",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "x.2"
+          ],
+          "dest": "x.1",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "c.1"
+          ],
+          "dest": "c.0",
+          "op": "id",
+          "type": "bool"
+        },
+        {
+          "labels": [
+            "loop"
+          ],
+          "op": "jmp"
+        },
+        {
+          "label": "end"
+        },
+        {
+          "op": "ret"
+        }
+      ],
+      "name": "main"
+    }
+  ]
+}
not ok 5 - tests/cycles.bril # differing: tests/cycles.out
--- tests/cycles_hard.out2025-04-28 01:12:14.769673862 -0400
+++ /tmp/tmpl_dq4wij2025-05-10 17:25:34.851790989 -0400
@@ -1,16 +1,216 @@
-Congruence classes for function main:
-Class const 0: ['a.0']
-Class const 1: ['one.0']
-Class const 2: ['two.0']
-Class const 10: ['ten.0']
-Class id: ['x.0', 'y.0']
-Class phi: ['x.1']
-Class add: ['p.1']
-Class lt: ['c.1']
-Class phi_0: ['c.0']
-Class id_0: ['x.2']
-Class phi_1: ['p.0']
-Class add_0: ['q.1']
-Class id_0_0: ['y.2']
-Class phi_1_0: ['q.0']
-Class phi_2: ['y.1']
+{
+  "functions": [
+    {
+      "instrs": [
+        {
+          "label": "b1"
+        },
+        {
+          "dest": "q.init",
+          "op": "undef",
+          "type": "int"
+        },
+        {
+          "dest": "p.init",
+          "op": "undef",
+          "type": "int"
+        },
+        {
+          "dest": "c.init",
+          "op": "undef",
+          "type": "bool"
+        },
+        {
+          "dest": "a.0",
+          "op": "const",
+          "type": "int",
+          "value": 0
+        },
+        {
+          "dest": "one.0",
+          "op": "const",
+          "type": "int",
+          "value": 1
+        },
+        {
+          "dest": "two.0",
+          "op": "const",
+          "type": "int",
+          "value": 2
+        },
+        {
+          "dest": "ten.0",
+          "op": "const",
+          "type": "int",
+          "value": 10
+        },
+        {
+          "args": [
+            "a.0"
+          ],
+          "dest": "x.0",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "x.0"
+          ],
+          "dest": "y.1",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "x.0"
+          ],
+          "dest": "x.1",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "q.init"
+          ],
+          "dest": "q.0",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "p.init"
+          ],
+          "dest": "p.0",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "c.init"
+          ],
+          "dest": "c.0",
+          "op": "id",
+          "type": "bool"
+        },
+        {
+          "labels": [
+            "loop"
+          ],
+          "op": "jmp"
+        },
+        {
+          "label": "loop"
+        },
+        {
+          "args": [
+            "one.0",
+            "x.1"
+          ],
+          "dest": "p.1",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [
+            "two.0",
+            "y.1"
+          ],
+          "dest": "q.1",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [
+            "p.1",
+            "ten.0"
+          ],
+          "dest": "c.1",
+          "op": "lt",
+          "type": "bool"
+        },
+        {
+          "args": [
+            "c.1"
+          ],
+          "labels": [
+            "then",
+            "end"
+          ],
+          "op": "br"
+        },
+        {
+          "label": "then"
+        },
+        {
+          "args": [
+            "p.1"
+          ],
+          "dest": "x.2",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "q.1"
+          ],
+          "dest": "y.2",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "y.2"
+          ],
+          "dest": "y.1",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "x.2"
+          ],
+          "dest": "x.1",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "q.1"
+          ],
+          "dest": "q.0",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "p.1"
+          ],
+          "dest": "p.0",
+          "op": "id",
+          "type": "int"
+        },
+        {
+          "args": [
+            "c.1"
+          ],
+          "dest": "c.0",
+          "op": "id",
+          "type": "bool"
+        },
+        {
+          "labels": [
+            "loop"
+          ],
+          "op": "jmp"
+        },
+        {
+          "label": "end"
+        },
+        {
+          "op": "ret"
+        }
+      ],
+      "name": "main"
+    }
+  ]
+}
not ok 6 - tests/cycles_hard.bril # differing: tests/cycles_hard.out
--- tests/sensitivity.out2025-04-28 01:12:14.859673832 -0400
+++ /tmp/tmpu5lgf09_2025-05-10 17:25:35.001790956 -0400
@@ -1,5 +1,46 @@
-Congruence classes for function main:
-Class const 1: ['x1.0']
-Class const 2: ['x2.0']
-Class sub: ['t3.0']
-Class sub_0: ['t4.0']
+{
+  "functions": [
+    {
+      "instrs": [
+        {
+          "label": "b1"
+        },
+        {
+          "dest": "x1.0",
+          "op": "const",
+          "type": "int",
+          "value": 1
+        },
+        {
+          "dest": "x2.0",
+          "op": "const",
+          "type": "int",
+          "value": 2
+        },
+        {
+          "args": [
+            "x1.0",
+            "x2.0"
+          ],
+          "dest": "t3.0",
+          "op": "sub",
+          "type": "int"
+        },
+        {
+          "args": [
+            "x2.0",
+            "x1.0"
+          ],
+          "dest": "t4.0",
+          "op": "sub",
+          "type": "int"
+        },
+        {
+          "args": [],
+          "op": "ret"
+        }
+      ],
+      "name": "main"
+    }
+  ]
+}
not ok 7 - tests/sensitivity.bril # differing: tests/sensitivity.out
--- tests/transitive.out2025-04-28 01:12:14.949673801 -0400
+++ /tmp/tmpr4rn2i782025-05-10 17:25:35.141790925 -0400
@@ -1,8 +1,67 @@
-Congruence classes for function main:
-Class const 0: ['x.0']
-Class const 1: ['y.0']
-Class const 2: ['z.0']
-Class const 3: ['w.0']
-Class add: ['a.0', 'b.0']
-Class add_0: ['f.0', 'g.0']
-Class add_0_0: ['d.0', 'e.0']
+{
+  "functions": [
+    {
+      "instrs": [
+        {
+          "label": "b1"
+        },
+        {
+          "dest": "x.0",
+          "op": "const",
+          "type": "int",
+          "value": 0
+        },
+        {
+          "dest": "y.0",
+          "op": "const",
+          "type": "int",
+          "value": 1
+        },
+        {
+          "dest": "z.0",
+          "op": "const",
+          "type": "int",
+          "value": 2
+        },
+        {
+          "dest": "w.0",
+          "op": "const",
+          "type": "int",
+          "value": 3
+        },
+        {
+          "args": [
+            "x.0",
+            "y.0"
+          ],
+          "dest": "a.0",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [
+            "a.0",
+            "z.0"
+          ],
+          "dest": "d.0",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [
+            "d.0",
+            "w.0"
+          ],
+          "dest": "f.0",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [],
+          "op": "ret"
+        }
+      ],
+      "name": "main"
+    }
+  ]
+}
not ok 8 - tests/transitive.bril # differing: tests/transitive.out
--- tests/unrelated.out2025-04-28 01:12:15.039673772 -0400
+++ /tmp/tmptciqseh82025-05-10 17:25:35.331790883 -0400
@@ -1,6 +1,55 @@
-Congruence classes for function main:
-Class const 1: ['x1.0']
-Class const 2: ['x2.0']
-Class add: ['t1.0']
-Class add_0: ['t3.0']
-Class add_0_0: ['t4.0']
+{
+  "functions": [
+    {
+      "instrs": [
+        {
+          "label": "b1"
+        },
+        {
+          "dest": "x1.0",
+          "op": "const",
+          "type": "int",
+          "value": 1
+        },
+        {
+          "dest": "x2.0",
+          "op": "const",
+          "type": "int",
+          "value": 2
+        },
+        {
+          "args": [
+            "x1.0",
+            "x2.0"
+          ],
+          "dest": "t1.0",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [
+            "t1.0",
+            "x1.0"
+          ],
+          "dest": "t3.0",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [
+            "t1.0",
+            "x2.0"
+          ],
+          "dest": "t4.0",
+          "op": "add",
+          "type": "int"
+        },
+        {
+          "args": [],
+          "op": "ret"
+        }
+      ],
+      "name": "main"
+    }
+  ]
+}
not ok 9 - tests/unrelated.bril # differing: tests/unrelated.out
cd ../..
sh cs6120/final/test_gvn.sh
benchmarks/core/ackermann.bril
benchmarks/core/armstrong.bril
benchmarks/core/bbs.bril
benchmarks/core/binary-fmt.bril
benchmarks/core/binpow.bril
benchmarks/core/bitshift.bril
benchmarks/core/bitwise-ops.bril
benchmarks/core/catalan.bril
benchmarks/core/check-primes.bril
benchmarks/core/collatz.bril
benchmarks/core/combination.bril
benchmarks/core/delannoy.bril
benchmarks/core/digital-root.bril
benchmarks/core/euclid.bril
benchmarks/core/fact.bril
benchmarks/core/factors.bril
benchmarks/core/fib_recursive.bril
benchmarks/core/fitsinside.bril
benchmarks/core/fizz-buzz.bril
benchmarks/core/gcd.bril
benchmarks/core/gebmm.bril
benchmarks/core/geometric-sum.bril
benchmarks/core/hamming.bril
benchmarks/core/hanoi.bril
benchmarks/core/is-decreasing.bril
benchmarks/core/karatsuba.bril
benchmarks/core/lcm.bril
benchmarks/core/loopfact.bril
benchmarks/core/mccarthy91.bril
benchmarks/core/mod_inv.bril
benchmarks/core/mod_pow.bril
benchmarks/core/montgomery.bril
benchmarks/core/orders.bril
benchmarks/core/palindrome.bril
benchmarks/core/pascals-row.bril
benchmarks/core/perfect.bril
benchmarks/core/permutation.bril
benchmarks/core/primes-between.bril
benchmarks/core/pythagorean_triple.bril
benchmarks/core/quadratic.bril
benchmarks/core/recfact.bril
benchmarks/core/rectangles-area-difference.bril
benchmarks/core/relative-primes.bril
benchmarks/core/reverse.bril
benchmarks/core/rot13.bril
benchmarks/core/sqrt_bin_search.bril
benchmarks/core/sum-bits.bril
benchmarks/core/sum-check.bril
benchmarks/core/sum-digits.bril
benchmarks/core/sum-divisors.bril
benchmarks/core/sum-sq-diff.bril
benchmarks/core/totient.bril
benchmarks/core/up-arrow.bril
sh cs6120/final/test_gvn.shsinglecs6120/final/tests/aliases.bril
bril2json < {filename} | python gvn.pcs6120/final/tests/aliases.bril | bril2txt
python: can't open file 'gvn.py': [Errno 2] No such file or directory
Traceback (most recent call last):
File "/home/nya1025/.local/bin/bril2txt", line 10, in <module>
sys.exit(bril2txt())
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/briltxt.py", line 343, in bril2txt
print_prog(json.load(sys.stdin))
File "/usr/lib/python3.8/json/__init__.py", line 293, in load
return loads(fp.read(),
File "/usr/lib/python3.8/json/__init__.py", line 357, in loads
return _default_decoder.decode(s)
File "/usr/lib/python3.8/json/decoder.py", line 337, in decode
obj, end = self.raw_decode(s, idx=_w(s, 0).end())
File "/usr/lib/python3.8/json/decoder.py", line 355, in raw_decode
raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
Exception ignored in: <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>
BrokenPipeError: [Errno 32] Broken pipe
bril2json < cs6120/final/tests/aliases.bril | python gvn.py | bril2tx
python: can't open file 'gvn.py': [Errno 2] No such file or directory
Exception ignored in: <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>
BrokenPipeError: [Errno 32] Broken pipe
bril2json < cs6120/final/tests/aliases.bril | python gvn.py | bril2txcs6120/final/
@main {
.b1:
a.0: int = const 7;
b.0: int = id a.0;
c.0: int = id b.0;
ret;
}
bril2json < cs6120/final/tests/aliases.bril | python cs6120/final/gvn.py | bril2txtransitive
@main {
.b1:
x.0: int = const 0;
y.0: int = const 1;
z.0: int = const 2;
w.0: int = const 3;
a.0: int = add x.0 y.0;
d.0: int = add a.0 z.0;
f.0: int = add d.0 w.0;
ret;
}
bril2json < cs6120/final/tests/transitive.bril | python cs6120/final/gvn.py | bril2txcyclecontrol
@main {
.entry:
x2.init: int = undef;
x1.init: int = undef;
a0.0: int = const 1;
b0.0: int = const 3;
cond.0: bool = const true;
br cond.0 .block1 .block2;
.block1:
x1.0: int = add a0.0 b0.0;
x2.1: int = id x2.init;
x1.1: int = id x1.0;
jmp .merge;
.block2:
x1.0: int = add a0.0 b0.0;
x2.1: int = id x1.0;
x1.1: int = id x1.init;
jmp .merge;
.merge:
x1.0: int = add a0.0 b0.0;
ret;
}
user: bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py | bril2txt
/usr/lib/python3/dist-packages/requests/__init__.py:89: RequestsDependencyWarning: urllib3 (2.2.3) or chardet (3.0.4) doesn't match a supported version!
warnings.warn("urllib3 ({}) or chardet ({}) doesn't match a supported "
Traceback (most recent call last):
File "cs6120/final/gvn.py", line 33, in <module>
def _expr_key(instr: dict) -> str | None:
TypeError: unsupported operand type(s) for |: 'type' and 'NoneType'
Traceback (most recent call last):
File "/home/nya1025/.local/bin/bril2txt", line 10, in <module>
sys.exit(bril2txt())
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/briltxt.py", line 343, in bril2txt
print_prog(json.load(sys.stdin))
File "/usr/lib/python3.8/json/__init__.py", line 293, in load
return loads(fp.read(),
File "/usr/lib/python3.8/json/__init__.py", line 357, in loads
return _default_decoder.decode(s)
File "/usr/lib/python3.8/json/decoder.py", line 337, in decode
obj, end = self.raw_decode(s, idx=_w(s, 0).end())
File "/usr/lib/python3.8/json/decoder.py", line 355, in raw_decode
raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py | bril2tx
/usr/lib/python3/dist-packages/requests/__init__.py:89: RequestsDependencyWarning: urllib3 (2.2.3) or chardet (3.0.4) doesn't match a supported version!
warnings.warn("urllib3 ({}) or chardet ({}) doesn't match a supported "
Traceback (most recent call last):
File "cs6120/final/gvn.py", line 33, in <module>
def _expr_key(instr: dict) -> str | None:
TypeError: unsupported operand type(s) for |: 'type' and 'NoneType'
bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py
/usr/lib/python3/dist-packages/requests/__init__.py:89: RequestsDependencyWarning: urllib3 (2.2.3) or chardet (3.0.4) doesn't match a supported version!
warnings.warn("urllib3 ({}) or chardet ({}) doesn't match a supported "
Traceback (most recent call last):
File "cs6120/final/gvn.py", line 301, in <module>
main()
File "cs6120/final/gvn.py", line 287, in main
av_in, _ = _compute_avail(blocks)
File "cs6120/final/gvn.py", line 113, in _compute_avail
av_analysis = Analysis(
TypeError: __new__() got an unexpected keyword argument 'direction'
bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py
/usr/lib/python3/dist-packages/requests/__init__.py:89: RequestsDependencyWarning: urllib3 (2.2.3) or chardet (3.0.4) doesn't match a supported version!
warnings.warn("urllib3 ({}) or chardet ({}) doesn't match a supported "
Traceback (most recent call last):
File "cs6120/final/gvn.py", line 298, in <module>
main()
File "cs6120/final/gvn.py", line 284, in main
av_in, _ = _compute_avail(blocks)
File "cs6120/final/gvn.py", line 119, in _compute_avail
av_in, av_out = df_worklist(func_blocks, av_analysis)
File "/home/nya1025/bril/examples/df.py", line 51, in df_worklist
outval = analysis.transfer(blocks[node], inval)
File "cs6120/final/gvn.py", line 108, in transfer
return in_set | gen_map[block_name]
TypeError: unhashable type: 'list'
bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py
/usr/lib/python3/dist-packages/requests/__init__.py:89: RequestsDependencyWarning: urllib3 (2.2.3) or chardet (3.0.4) doesn't match a supported version!
warnings.warn("urllib3 ({}) or chardet ({}) doesn't match a supported "
Traceback (most recent call last):
File "cs6120/final/gvn.py", line 296, in <module>
main()
File "cs6120/final/gvn.py", line 282, in main
av_in, _ = _compute_avail(blocks)
File "cs6120/final/gvn.py", line 117, in _compute_avail
av_in, av_out = df_worklist(func_blocks, av_analysis)
File "/home/nya1025/bril/examples/df.py", line 48, in df_worklist
inval = analysis.merge(out[n] for n in in_edges[node])
File "cs6120/final/gvn.py", line 100, in merge
out = pred_out_sets[0]
TypeError: 'generator' object is not subscriptable
user: bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py
/usr/lib/python3/dist-packages/requests/__init__.py:89: RequestsDependencyWarning: urllib3 (2.2.3) or chardet (3.0.4) doesn't match a supported version!
warnings.warn("urllib3 ({}) or chardet ({}) doesn't match a supported "
Traceback (most recent call last):
File "cs6120/final/gvn.py", line 276, in <module>
main()
File "cs6120/final/gvn.py", line 262, in main
av_in, _ = _compute_avail(blocks)
File "cs6120/final/gvn.py", line 120, in _compute_avail
av_in, av_out = df_worklist(func_blocks, av_analysis)
File "/home/nya1025/bril/examples/df.py", line 51, in df_worklist
outval = analysis.transfer(blocks[node], inval)
File "cs6120/final/gvn.py", line 109, in transfer
return in_set.union(gen_map[block_name])
AttributeError: 'NoneType' object has no attribute 'union'
user: bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py
None
/usr/lib/python3/dist-packages/requests/__init__.py:89: RequestsDependencyWarning: urllib3 (2.2.3) or chardet (3.0.4) doesn't match a supported version!
warnings.warn("urllib3 ({}) or chardet ({}) doesn't match a supported "
Traceback (most recent call last):
File "cs6120/final/gvn.py", line 277, in <module>
main()
File "cs6120/final/gvn.py", line 263, in main
av_in, _ = _compute_avail(blocks)
File "cs6120/final/gvn.py", line 121, in _compute_avail
av_in, av_out = df_worklist(func_blocks, av_analysis)
File "/home/nya1025/bril/examples/df.py", line 51, in df_worklist
outval = analysis.transfer(blocks[node], inval)
File "cs6120/final/gvn.py", line 110, in transfer
return in_set.union(gen_map[block_name])
AttributeError: 'NoneType' object has no attribute 'union'
bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py
[{'op': 'undef', 'type': 'int', 'dest': 'x2.init'}, {'op': 'undef', 'type': 'int', 'dest': 'x1.init'}, {'dest': 'a0.0', 'op': 'const', 'type': 'int', 'value': 1}, {'dest': 'b0.0', 'op': 'const', 'type': 'int', 'value': 3}, {'dest': 'cond.0', 'op': 'const', 'type': 'bool', 'value': True}, {'args': ['cond.0'], 'labels': ['block1', 'block2'], 'op': 'br'}]
None
/usr/lib/python3/dist-packages/requests/__init__.py:89: RequestsDependencyWarning: urllib3 (2.2.3) or chardet (3.0.4) doesn't match a supported version!
warnings.warn("urllib3 ({}) or chardet ({}) doesn't match a supported "
Traceback (most recent call last):
File "cs6120/final/gvn.py", line 278, in <module>
main()
File "cs6120/final/gvn.py", line 264, in main
av_in, _ = _compute_avail(blocks)
File "cs6120/final/gvn.py", line 122, in _compute_avail
av_in, av_out = df_worklist(func_blocks, av_analysis)
File "/home/nya1025/bril/examples/df.py", line 51, in df_worklist
outval = analysis.transfer(blocks[node], inval)
File "cs6120/final/gvn.py", line 111, in transfer
return in_set.union(gen_map[block_name])
AttributeError: 'NoneType' object has no attribute 'union'
bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py
/usr/lib/python3/dist-packages/requests/__init__.py:89: RequestsDependencyWarning: urllib3 (2.2.3) or chardet (3.0.4) doesn't match a supported version!
warnings.warn("urllib3 ({}) or chardet ({}) doesn't match a supported "
Traceback (most recent call last):
File "cs6120/final/gvn.py", line 271, in <module>
main()
File "cs6120/final/gvn.py", line 257, in main
av_in, _ = _compute_avail(blocks)
File "cs6120/final/gvn.py", line 115, in _compute_avail
av_in, av_out = df_worklist(func_blocks, av_analysis)
File "/home/nya1025/bril/examples/df.py", line 51, in df_worklist
outval = analysis.transfer(blocks[node], inval)
File "cs6120/final/gvn.py", line 104, in transfer
return in_set.union(gen_set)
AttributeError: 'NoneType' object has no attribute 'union'
bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py
/usr/lib/python3/dist-packages/requests/__init__.py:89: RequestsDependencyWarning: urllib3 (2.2.3) or chardet (3.0.4) doesn't match a supported version!
warnings.warn("urllib3 ({}) or chardet ({}) doesn't match a supported "
Traceback (most recent call last):
File "cs6120/final/gvn.py", line 271, in <module>
main()
File "cs6120/final/gvn.py", line 257, in main
av_in, _ = _compute_avail(blocks)
File "cs6120/final/gvn.py", line 115, in _compute_avail
av_in, av_out = df_worklist(func_blocks, av_analysis)
File "/home/nya1025/bril/examples/df.py", line 51, in df_worklist
outval = analysis.transfer(blocks[node], inval)
File "cs6120/final/gvn.py", line 104, in transfer
return in_set.union(gen_set)
AttributeError: 'NoneType' object has no attribute 'union'
bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py
<generator object df_worklist.<locals>.<genexpr> at 0x7f72b62b2c80>
[{'op': 'undef', 'type': 'int', 'dest': 'x2.init'}, {'op': 'undef', 'type': 'int', 'dest': 'x1.init'}, {'dest': 'a0.0', 'op': 'const', 'type': 'int', 'value': 1}, {'dest': 'b0.0', 'op': 'const', 'type': 'int', 'value': 3}, {'dest': 'cond.0', 'op': 'const', 'type': 'bool', 'value': True}, {'args': ['cond.0'], 'labels': ['block1', 'block2'], 'op': 'br'}]
None
/usr/lib/python3/dist-packages/requests/__init__.py:89: RequestsDependencyWarning: urllib3 (2.2.3) or chardet (3.0.4) doesn't match a supported version!
warnings.warn("urllib3 ({}) or chardet ({}) doesn't match a supported "
Traceback (most recent call last):
File "cs6120/final/gvn.py", line 274, in <module>
main()
File "cs6120/final/gvn.py", line 260, in main
av_in, _ = _compute_avail(blocks)
File "cs6120/final/gvn.py", line 118, in _compute_avail
av_in, av_out = df_worklist(func_blocks, av_analysis)
File "/home/nya1025/bril/examples/df.py", line 51, in df_worklist
outval = analysis.transfer(blocks[node], inval)
File "cs6120/final/gvn.py", line 107, in transfer
return in_set.union(gen_set)
AttributeError: 'NoneType' object has no attribute 'union'
bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py
[{'op': 'undef', 'type': 'int', 'dest': 'x2.init'}, {'op': 'undef', 'type': 'int', 'dest': 'x1.init'}, {'dest': 'a0.0', 'op': 'const', 'type': 'int', 'value': 1}, {'dest': 'b0.0', 'op': 'const', 'type': 'int', 'value': 3}, {'dest': 'cond.0', 'op': 'const', 'type': 'bool', 'value': True}, {'args': ['cond.0'], 'labels': ['block1', 'block2'], 'op': 'br'}]
set()
[{'args': ['a0.0', 'b0.0'], 'dest': 'x1.0', 'op': 'add', 'type': 'int'}, {'labels': ['merge'], 'op': 'jmp'}]
{'{"dest": "x1.init", "op": "undef", "type": "int"}', '{"dest": "cond.0", "op": "const", "type": "bool", "value": true}', '{"dest": "b0.0", "op": "const", "type": "int", "value": 3}', '{"dest": "x2.init", "op": "undef", "type": "int"}', '{"dest": "a0.0", "op": "const", "type": "int", "value": 1}'}
[{'args': ['a0.0', 'b0.0'], 'dest': 'x1.0', 'op': 'add', 'type': 'int'}, {'labels': ['merge'], 'op': 'jmp'}]
{'{"dest": "x1.init", "op": "undef", "type": "int"}', '{"dest": "cond.0", "op": "const", "type": "bool", "value": true}', '{"dest": "b0.0", "op": "const", "type": "int", "value": 3}', '{"dest": "x2.init", "op": "undef", "type": "int"}', '{"dest": "a0.0", "op": "const", "type": "int", "value": 1}'}
[{'op': 'phi', 'dest': 'x2.1', 'type': 'int', 'args': ['x2.init', 'x1.0', 'block1', 'block2']}, {'op': 'phi', 'dest': 'x1.1', 'type': 'int', 'args': ['x1.0', 'x1.init', 'block1', 'block2']}, {'args': ['a0.0', 'b0.0'], 'dest': 'x1.0', 'op': 'add', 'type': 'int'}, {'op': 'ret', 'args': []}]
{'{"dest": "cond.0", "op": "const", "type": "bool", "value": true}', '{"dest": "x1.init", "op": "undef", "type": "int"}', '{"args": ["a0.0", "b0.0"], "dest": "x1.0", "op": "add", "type": "int"}', '{"dest": "b0.0", "op": "const", "type": "int", "value": 3}', '{"dest": "x2.init", "op": "undef", "type": "int"}', '{"dest": "a0.0", "op": "const", "type": "int", "value": 1}'}
[{'args': ['a0.0', 'b0.0'], 'dest': 'x1.0', 'op': 'add', 'type': 'int'}, {'labels': ['merge'], 'op': 'jmp'}]
{'{"dest": "x1.init", "op": "undef", "type": "int"}', '{"dest": "cond.0", "op": "const", "type": "bool", "value": true}', '{"dest": "b0.0", "op": "const", "type": "int", "value": 3}', '{"dest": "x2.init", "op": "undef", "type": "int"}', '{"dest": "a0.0", "op": "const", "type": "int", "value": 1}'}
[{'args': ['a0.0', 'b0.0'], 'dest': 'x1.0', 'op': 'add', 'type': 'int'}, {'labels': ['merge'], 'op': 'jmp'}]
{'{"dest": "x1.init", "op": "undef", "type": "int"}', '{"dest": "cond.0", "op": "const", "type": "bool", "value": true}', '{"dest": "b0.0", "op": "const", "type": "int", "value": 3}', '{"dest": "x2.init", "op": "undef", "type": "int"}', '{"dest": "a0.0", "op": "const", "type": "int", "value": 1}'}
[{'op': 'phi', 'dest': 'x2.1', 'type': 'int', 'args': ['x2.init', 'x1.0', 'block1', 'block2']}, {'op': 'phi', 'dest': 'x1.1', 'type': 'int', 'args': ['x1.0', 'x1.init', 'block1', 'block2']}, {'args': ['a0.0', 'b0.0'], 'dest': 'x1.0', 'op': 'add', 'type': 'int'}, {'op': 'ret', 'args': []}]
{'{"dest": "cond.0", "op": "const", "type": "bool", "value": true}', '{"dest": "x1.init", "op": "undef", "type": "int"}', '{"args": ["a0.0", "b0.0"], "dest": "x1.0", "op": "add", "type": "int"}', '{"dest": "b0.0", "op": "const", "type": "int", "value": 3}', '{"dest": "x2.init", "op": "undef", "type": "int"}', '{"dest": "a0.0", "op": "const", "type": "int", "value": 1}'}
[{'op': 'phi', 'dest': 'x2.1', 'type': 'int', 'args': ['x2.init', 'x1.0', 'block1', 'block2']}, {'op': 'phi', 'dest': 'x1.1', 'type': 'int', 'args': ['x1.0', 'x1.init', 'block1', 'block2']}, {'args': ['a0.0', 'b0.0'], 'dest': 'x1.0', 'op': 'add', 'type': 'int'}, {'op': 'ret', 'args': []}]
{'{"dest": "cond.0", "op": "const", "type": "bool", "value": true}', '{"dest": "x1.init", "op": "undef", "type": "int"}', '{"args": ["a0.0", "b0.0"], "dest": "x1.0", "op": "add", "type": "int"}', '{"dest": "b0.0", "op": "const", "type": "int", "value": 3}', '{"dest": "x2.init", "op": "undef", "type": "int"}', '{"dest": "a0.0", "op": "const", "type": "int", "value": 1}'}
{
"functions": [
{
"instrs": [
{
"label": "entry"
},
{
"dest": "x2.init",
"op": "undef",
"type": "int"
},
{
"dest": "x1.init",
"op": "undef",
"type": "int"
},
{
"dest": "a0.0",
"op": "const",
"type": "int",
"value": 1
},
{
"dest": "b0.0",
"op": "const",
"type": "int",
"value": 3
},
{
"dest": "cond.0",
"op": "const",
"type": "bool",
"value": true
},
{
"args": [
"cond.0"
],
"labels": [
"block1",
"block2"
],
"op": "br"
},
{
"label": "block1"
},
{
"args": [
"a0.0",
"b0.0"
],
"dest": "x1.0",
"op": "add",
"type": "int"
},
{
"args": [
"x2.init"
],
"dest": "x2.1",
"op": "id",
"type": "int"
},
{
"args": [
"x1.0"
],
"dest": "x1.1",
"op": "id",
"type": "int"
},
{
"labels": [
"merge"
],
"op": "jmp"
},
{
"label": "block2"
},
{
"args": [
"a0.0",
"b0.0"
],
"dest": "x1.0",
"op": "add",
"type": "int"
},
{
"args": [
"x1.0"
],
"dest": "x2.1",
"op": "id",
"type": "int"
},
{
"args": [
"x1.init"
],
"dest": "x1.1",
"op": "id",
"type": "int"
},
{
"labels": [
"merge"
],
"op": "jmp"
},
{
"label": "merge"
},
{
"args": [],
"op": "ret"
}
],
"name": "main"
}
]
}
bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py | bril2txt
Traceback (most recent call last):
File "/home/nya1025/.local/bin/bril2txt", line 10, in <module>
sys.exit(bril2txt())
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/briltxt.py", line 343, in bril2txt
print_prog(json.load(sys.stdin))
File "/usr/lib/python3.8/json/__init__.py", line 293, in load
return loads(fp.read(),
File "/usr/lib/python3.8/json/__init__.py", line 357, in loads
return _default_decoder.decode(s)
File "/usr/lib/python3.8/json/decoder.py", line 337, in decode
obj, end = self.raw_decode(s, idx=_w(s, 0).end())
File "/usr/lib/python3.8/json/decoder.py", line 353, in raw_decode
obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 1 column 3 (char 2)
bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py | bril2txt
reset
c104>
resebril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py | bril2txt
@main {
.entry:
x2.init: int = undef;
x1.init: int = undef;
a0.0: int = const 1;
b0.0: int = const 3;
cond.0: bool = const true;
br cond.0 .block1 .block2;
.block1:
x1.0: int = add a0.0 b0.0;
x2.1: int = id x2.init;
x1.1: int = id x1.0;
jmp .merge;
.block2:
x1.0: int = add a0.0 b0.0;
x2.1: int = id x1.0;
x1.1: int = id x1.init;
jmp .merge;
.merge:
ret;
}
bril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py | bril2txt
resebril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py | bril2tx | bril2txtransitivaliasegvn.py | bril2txt
sh cs6120/final/test_single.sh cs6120/final/tests/aliases.brilgvn.shsingle.sh cs6120/final/tests/aliases.brigvn.sh
benchmarks/core/ackermann.bril
benchmarks/core/armstrong.bril
benchmarks/core/bbs.bril
benchmarks/core/binary-fmt.bril
benchmarks/core/binpow.bril
benchmarks/core/bitshift.bril
benchmarks/core/bitwise-ops.bril
benchmarks/core/catalan.bril
benchmarks/core/check-primes.bril
benchmarks/core/collatz.bril
benchmarks/core/combination.bril
benchmarks/core/delannoy.bril
benchmarks/core/digital-root.bril
benchmarks/core/euclid.bril
benchmarks/core/fact.bril
benchmarks/core/factors.bril
benchmarks/core/fib_recursive.bril
benchmarks/core/fitsinside.bril
benchmarks/core/fizz-buzz.bril
benchmarks/core/gcd.bril
benchmarks/core/gebmm.bril
benchmarks/core/geometric-sum.bril
benchmarks/core/hamming.bril
benchmarks/core/hanoi.bril
benchmarks/core/is-decreasing.bril
benchmarks/core/karatsuba.bril
benchmarks/core/lcm.bril
benchmarks/core/loopfact.bril
benchmarks/core/mccarthy91.bril
benchmarks/core/mod_inv.bril
benchmarks/core/mod_pow.bril
benchmarks/core/montgomery.bril
benchmarks/core/orders.bril
benchmarks/core/palindrome.bril
benchmarks/core/pascals-row.bril
benchmarks/core/perfect.bril
benchmarks/core/permutation.bril
benchmarks/core/primes-between.bril
benchmarks/core/pythagorean_triple.bril
benchmarks/core/quadratic.bril
benchmarks/core/recfact.bril
benchmarks/core/rectangles-area-difference.bril
benchmarks/core/relative-primes.bril
benchmarks/core/reverse.bril
benchmarks/core/rot13.bril
benchmarks/core/sqrt_bin_search.bril
benchmarks/core/sum-bits.bril
benchmarks/core/sum-check.bril
benchmarks/core/sum-digits.bril
benchmarks/core/sum-divisors.bril
benchmarks/core/sum-sq-diff.bril
benchmarks/core/totient.bril
benchmarks/core/up-arrow.bril
sh cs6120/final/test_gvn.shbril2json < cs6120/final/tests/control.bril | python cs6120/final/gvn.py | bril2tx2
@main {
.entry:
x1.init: int = undef;
a0.0: int = const 1;
b0.0: int = const 3;
cond.0: bool = const true;
br cond.0 .block1 .block2;
.block1:
x1.0: int = add a0.0 b0.0;
x1.1: int = id x1.0;
jmp .merge;
.block2:
x1.1: int = id x1.init;
jmp .merge;
.merge:
x1.0: int = add a0.0 b0.0;
ret;
}
user: git add .
git commit -m "add AVAIL-basederem emovaremoval"
[main 7c8d517] add AVAIL-based removal
2 files changed, 173 insertions(+), 7 deletions(-)
create mode 100644 cs6120/final/tests/control2.bril
git push
Enter passphrase for key '/home/nya1025/.ssh/normal_id':
Enumerating objects: 12, done.
Counting objects:   8% (1/12)
Counting objects:  16% (2/12)
Counting objects:  25% (3/12)
Counting objects:  33% (4/12)
Counting objects:  41% (5/12)
Counting objects:  50% (6/12)
Counting objects:  58% (7/12)
Counting objects:  66% (8/12)
Counting objects:  75% (9/12)
Counting objects:  83% (10/12)
Counting objects:  91% (11/12)
Counting objects: 100% (12/12)
Counting objects: 100% (12/12), done.
Delta compression using up to 16 threads
Compressing objects:  14% (1/7)
Compressing objects:  28% (2/7)
Compressing objects:  42% (3/7)
Compressing objects:  57% (4/7)
Compressing objects:  71% (5/7)
Compressing objects:  85% (6/7)
Compressing objects: 100% (7/7)
Compressing objects: 100% (7/7), done.
Writing objects:  14% (1/7)
Writing objects:  28% (2/7)
Writing objects:  42% (3/7)
Writing objects:  57% (4/7)
Writing objects:  71% (5/7)
Writing objects:  85% (6/7)
Writing objects: 100% (7/7)
Writing objects: 100% (7/7), 3.58 KiB | 3.58 MiB/s, done.
Total 7 (delta 4), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/4)
remote: Resolving deltas:  25% (1/4)
remote: Resolving deltas:  50% (2/4)
remote: Resolving deltas:  75% (3/4)
remote: Resolving deltas: 100% (4/4)
remote: Resolving deltas: 100% (4/4), completed with 4 local objects.
To github.com:aw578/bril.git
8b85f01..7c8d517  main -> main
git log
=
commit 7c8d51737ba33b6fb14b28f1ecce413ac3f7d946 (HEAD -> main, origin/main, origin/HEAD)
Author: Allen Wang <aw578@cornell.edu>
Date:   Sat May 10 18:11:43 2025 -0400
add AVAIL-based removal
commit 8b85f0145db4db8729a9d8c7318fadca22628fda
:
Author: Allen Wang <aw578@cornell.edu>
:
Date:   Mon Apr 28 03:59:58 2025 -0400
:
:
works on all benchmarks
:
:
commit e0d2d8d225b87196de9e2ebd65f1ee1bf1728cf7
:
Author: Allen Wang <aw578@cornell.edu>
:
Date:   Mon Apr 28 02:51:33 2025 -0400
:
:
works on everything, times out on gebmm
:
:
commit a385aad35636a64e37e5cb931865da08093f8cfa
:
Author: Allen Wang <aw578@cornell.edu>
:
Date:   Mon Apr 28 02:10:17 2025 -0400
:
:
add renaming, broken
:
:
commit ad0520e07e4d71ee3728130edae08025f816d263
:
Author: Allen Wang <aw578@cornell.edu>
:
Date:   Sun Apr 27 22:26:09 2025 -0400
:
:
start gvn, need to handle phis, available expressions
:
:
commit a426eb105f869ad1698c1cbacef0f3545ee9fa33
:
Author: Allen Wang <aw578@cornell.edu>
:
Date:   Mon Apr 21 01:05:32 2025 -0400
:
:
add lvn support
:
:
commit 3509970a351a8a302c3b60df801072d28eb4b3ca
:
Author: Allen Wang <aw578@cornell.edu>
:
Date:   Mon Apr 21 00:04:18 2025 -0400
:
:
add basic tracing
:
:
commit 69bcb6329ee09c925a64b6cbd88221a1437a0267
:
Author: Allen Wang <aw578@cornell.edu>
:
Date:   Tue Mar 25 03:00:44 2025 -0400
:
:
finish a8
:
:
git lopuscommit -m "add AVAIL-based removaladd bril2json < cs6120/final/tests/control2.bril | python cs6120/final/gvn.py | bril2txt
sh cs6120/final/test_gvn.sh
benchmarks/core/ackermann.bril
benchmarks/core/ackermann.bril 1464231 1464231
benchmarks/core/armstrong.bril
benchmarks/core/armstrong.bril 133 133
benchmarks/core/bbs.bril
benchmarks/core/bbs.bril 137 137
benchmarks/core/binary-fmt.bril
benchmarks/core/binary-fmt.bril 100 100
benchmarks/core/binpow.bril
benchmarks/core/binpow.bril 105 105
benchmarks/core/bitshift.bril
benchmarks/core/bitshift.bril 167 155
benchmarks/core/bitwise-ops.bril
benchmarks/core/bitwise-ops.bril 1690 1690
benchmarks/core/catalan.bril
benchmarks/core/catalan.bril 659378 659378
benchmarks/core/check-primes.bril
benchmarks/core/check-primes.bril 8419 8419
benchmarks/core/collatz.bril
benchmarks/core/collatz.bril 169 169
benchmarks/core/combination.bril
benchmarks/core/combination.bril 178 178
benchmarks/core/delannoy.bril
benchmarks/core/delannoy.bril 5748751 5748750
^C
sh cs6120/final/test_gvn.sh
benchmarks/core/ackermann.bril
benchmarks/core/ackermann.bril 1464231 1464232
benchmarks/core/armstrong.bril
benchmarks/core/armstrong.bril 133 196
benchmarks/core/bbs.bril
benchmarks/core/bbs.bril 137 185
benchmarks/core/binary-fmt.bril
benchmarks/core/binary-fmt.bril 100 196
^CTraceback (most recent call last):
File "/home/nya1025/.local/bin/bril2json", line 10, in <module>
sys.exit(bril2json())
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/briltxt.py", line 339, in bril2json
print(parse_bril(sys.stdin.read(), '-p' in sys.argv[1:]))
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/briltxt.py", line 238, in parse_bril
parser = lark.Lark(GRAMMAR, maybe_placeholders=True)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/lark.py", line 300, in __init__
self.grammar, used_files = load_grammar(grammar, self.source_path, self.options.import_paths, self.options.keep_all_tokens)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/load_grammar.py", line 1352, in load_grammar
builder.load_grammar(grammar, source)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/load_grammar.py", line 1185, in load_grammar
tree = _parse_grammar(grammar_text, grammar_name)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/load_grammar.py", line 952, in _parse_grammar
tree = _get_parser().parse(text + '\n', start)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/parser_frontends.py", line 106, in parse
return self.parser.parse(stream, chosen_start, **kw)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/parsers/lalr_parser.py", line 41, in parse
return self.parser.parse(lexer, start)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/parsers/lalr_parser.py", line 171, in parse
return self.parse_from_state(parser_state)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/parsers/lalr_parser.py", line 178, in parse_from_state
for token in state.lexer.lex(state):
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/lexer.py", line 388, in lex
yield self.next_token(state, parser_state)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/lexer.py", line 393, in next_token
res = self.match(lex_state.text, line_ctr.char_pos)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/lexer.py", line 383, in match
return self.scanner.match(text, pos)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/lexer.py", line 379, in scanner
self._build_scanner()
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/lexer.py", line 374, in _build_scanner
self._scanner = Scanner(terminals, self.g_regex_flags, self.re, self.use_bytes)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/lexer.py", line 276, in __init__
self._mres = self._build_mres(terminals, len(terminals))
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/lexer.py", line 289, in _build_mres
mre = self.re_.compile(pattern, self.g_regex_flags)
File "/usr/lib/python3.8/re.py", line 252, in compile
return _compile(pattern, flags)
File "/usr/lib/python3.8/re.py", line 304, in _compile
p = sre_compile.compile(pattern, flags)
File "/usr/lib/python3.8/sre_compile.py", line 764, in compile
p = sre_parse.parse(p, flags)
File "/usr/lib/python3.8/sre_parse.py", line 948, in parse
p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
File "/usr/lib/python3.8/sre_parse.py", line 443, in _parse_sub
itemsappend(_parse(source, state, verbose, nested + 1,
File "/usr/lib/python3.8/sre_parse.py", line 834, in _parse
p = _parse_sub(source, state, sub_verbose, nested + 1)
File "/usr/lib/python3.8/sre_parse.py", line 443, in _parse_sub
itemsappend(_parse(source, state, verbose, nested + 1,
File "/usr/lib/python3.8/sre_parse.py", line 834, in _parse
p = _parse_sub(source, state, sub_verbose, nested + 1)
File "/usr/lib/python3.8/sre_parse.py", line 443, in _parse_sub
itemsappend(_parse(source, state, verbose, nested + 1,
File "/usr/lib/python3.8/sre_parse.py", line 506, in _parse
this = source.next
KeyboardInterrupt
sh cs6120/final/test_gvn.sh
benchmarks/core/ackermann.bril
1464231 1464232
benchmarks/core/armstrong.bril
133 196
benchmarks/core/bbs.bril
137 185
benchmarks/core/binary-fmt.bril
100 196
benchmarks/core/binpow.bril
105 106
benchmarks/core/bitshift.bril
167 186
benchmarks/core/bitwise-ops.bril
1690 2414
benchmarks/core/catalan.bril
659378 1299073
benchmarks/core/check-primes.bril
8468 14622
benchmarks/core/collatz.bril
169 252
benchmarks/core/combination.bril
178 185
benchmarks/core/delannoy.bril
5748752 4045839
benchmarks/core/digital-root.bril
247 360
benchmarks/core/euclid.bril
563 811
benchmarks/core/fact.bril
229 190
benchmarks/core/factors.bril
72 131
benchmarks/core/fib_recursive.bril
2693 2198
benchmarks/core/fitsinside.bril
10 11
benchmarks/core/fizz-buzz.bril
3652 9532
benchmarks/core/gcd.bril
46 81
benchmarks/core/gebmm.bril
3011 4589
benchmarks/core/geometric-sum.bril
35 55
benchmarks/core/hamming.bril
117 156
benchmarks/core/hanoi.bril
99 181
benchmarks/core/is-decreasing.bril
127 245
benchmarks/core/karatsuba.bril
1548 3400
benchmarks/core/lcm.bril
2326 3368
benchmarks/core/loopfact.bril
116 201
benchmarks/core/mccarthy91.bril
1385 1386
benchmarks/core/mod_inv.bril
558 886
benchmarks/core/mod_pow.bril
243 380
benchmarks/core/montgomery.bril
17 20
benchmarks/core/orders.bril
5352 8823
benchmarks/core/palindrome.bril
298 536
benchmarks/core/pascals-row.bril
146 265
benchmarks/core/perfect.bril
232 447
benchmarks/core/permutation.bril
130 226
benchmarks/core/primes-between.bril
574100 1076970
benchmarks/core/pythagorean_triple.bril
61518 109034
benchmarks/core/quadratic.bril
785 615
benchmarks/core/recfact.bril
104 239
benchmarks/core/rectangles-area-difference.bril
14 21
benchmarks/core/relative-primes.bril
1923 4809
benchmarks/core/reverse.bril
46 90
benchmarks/core/rot13.bril
8 10
benchmarks/core/sqrt_bin_search.bril
744 1044
benchmarks/core/sum-bits.bril
73 103
benchmarks/core/sum-check.bril
5018 8023
benchmarks/core/sum-digits.bril
219 395
benchmarks/core/sum-divisors.bril
159 344
benchmarks/core/sum-sq-diff.bril
3038 4986
benchmarks/core/totient.bril
253 566
benchmarks/core/up-arrow.bril
252 497
user: sh cs6120/final/test_gvn.sh
benchmarks/core/ackermann.bril
total_inst1 | ssa 1464232 | gvn 1464232
benchmarks/core/armstrong.bril
total_inst1 | ssa 200 | gvn 196
benchmarks/core/bbs.bril
total_inst1 | ssa 185 | gvn 185
benchmarks/core/binary-fmt.bril
^CTraceback (most recent call last):
Traceback (most recent call last):
File "/home/nya1025/.local/bin/bril2json", line 10, in <module>
File "cs6120/final/gvn.py", line 270, in <module>
sys.exit(bril2json())
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/briltxt.py", line 339, in bril2json
main()
print(parse_bril(sys.stdin.read(), '-p' in sys.argv[1:]))
File "cs6120/final/gvn.py", line 220, in main
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/briltxt.py", line 238, in parse_bril
parser = lark.Lark(GRAMMAR, maybe_placeholders=True)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/lark.py", line 351, in __init__
program_str = "".join(sys.stdin.readlines())
KeyboardInterrupt
self.terminals, self.rules, self.ignore_tokens = self.grammar.compile(self.options.start, terminals_to_keep)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/load_grammar.py", line 691, in compile
terminals = [TerminalDef(name, transformer.transform(term_tree), priority)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/load_grammar.py", line 691, in <listcomp>
terminals = [TerminalDef(name, transformer.transform(term_tree), priority)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/visitors.py", line 223, in transform
tree = t.transform(tree)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/visitors.py", line 240, in transform
subtree.children = list(self._transform_children(subtree.children))
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/visitors.py", line 116, in _transform_children
yield self._transform_tree(c)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/visitors.py", line 236, in _transform_tree
return self._call_userfunc(tree)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/visitors.py", line 82, in _call_userfunc
children = new_children if new_children is not None else tree.children
KeyboardInterrupt
sh cs6120/final/test_gvn.sh
benchmarks/core/ackermann.bril
1464231 | ssa 1464232 | gvn 1464232
benchmarks/core/armstrong.bril
133 | ssa 200 | gvn 196
benchmarks/core/bbs.bril
137 | ssa 185 | gvn 185
benchmarks/core/binary-fmt.bril
100 | ssa 196 | gvn 196
benchmarks/core/binpow.bril
105 | ssa 106 | gvn 106
benchmarks/core/bitshift.bril
167 | ssa 215 | gvn 186
benchmarks/core/bitwise-ops.bril
1690 | ssa 2416 | gvn 2414
benchmarks/core/catalan.bril
659378 | ssa 1318756 | gvn 1299073
benchmarks/core/check-primes.bril
8468 | ssa 17210 | gvn 14622
benchmarks/core/collatz.bril
169 | ssa 263 | gvn 252
benchmarks/core/combination.bril
178 | ssa 185 | gvn 185
benchmarks/core/delannoy.bril
5748752 | ssa 5748753 | gvn 4045839
benchmarks/core/digital-root.bril
247 | ssa 361 | gvn 360
benchmarks/core/euclid.bril
563 | ssa 891 | gvn 811
benchmarks/core/fact.bril
229 | ssa 230 | gvn 190
benchmarks/core/factors.bril
72 | ssa 135 | gvn 131
benchmarks/core/fib_recursive.bril
2693 | ssa 2694 | gvn 2198
benchmarks/core/fitsinside.bril
10 | ssa 11 | gvn 11
benchmarks/core/fizz-buzz.bril
3652 | ssa 10452 | gvn 9532
benchmarks/core/gcd.bril
46 | ssa 81 | gvn 81
benchmarks/core/gebmm.bril
3011 | ssa 4599 | gvn 4589
benchmarks/core/geometric-sum.bril
35 | ssa 56 | gvn 55
benchmarks/core/hamming.bril
117 | ssa 157 | gvn 156
benchmarks/core/hanoi.bril
99 | ssa 181 | gvn 181
benchmarks/core/is-decreasing.bril
127 | ssa 251 | gvn 245
benchmarks/core/karatsuba.bril
1548 | ssa 3492 | gvn 3400
benchmarks/core/lcm.bril
2326 | ssa 3368 | gvn 3368
benchmarks/core/loopfact.bril
116 | ssa 226 | gvn 201
benchmarks/core/mccarthy91.bril
1385 | ssa 1386 | gvn 1386
benchmarks/core/mod_inv.bril
558 | ssa 1064 | gvn 886
benchmarks/core/mod_pow.bril
243 | ssa 433 | gvn 380
benchmarks/core/montgomery.bril
17 | ssa 20 | gvn 20
benchmarks/core/orders.bril
5352 | ssa 8823 | gvn 8823
benchmarks/core/palindrome.bril
298 | ssa 544 | gvn 536
benchmarks/core/pascals-row.bril
146 | ssa 301 | gvn 265
benchmarks/core/perfect.bril
232 | ssa 448 | gvn 447
benchmarks/core/permutation.bril
130 | ssa 250 | gvn 226
benchmarks/core/primes-between.bril
574100 | ssa 1120011 | gvn 1076970
benchmarks/core/pythagorean_triple.bril
61518 | ssa 109034 | gvn 109034
benchmarks/core/quadratic.bril
785 | ssa 1473 | gvn 615
benchmarks/core/recfact.bril
104 | ssa 247 | gvn 239
benchmarks/core/rectangles-area-difference.bril
14 | ssa 21 | gvn 21
benchmarks/core/relative-primes.bril
1923 | ssa 5047 | gvn 4809
benchmarks/core/reverse.bril
46 | ssa 90 | gvn 90
benchmarks/core/rot13.bril
8 | ssa 10 | gvn 10
benchmarks/core/sqrt_bin_search.bril
744 | ssa 1195 | gvn 1044
benchmarks/core/sum-bits.bril
73 | ssa 104 | gvn 103
benchmarks/core/sum-check.bril
5018 | ssa 8024 | gvn 8023
benchmarks/core/sum-digits.bril
219 | ssa 447 | gvn 395
benchmarks/core/sum-divisors.bril
159 | ssa 346 | gvn 344
benchmarks/core/sum-sq-diff.bril
3038 | ssa 5689 | gvn 4986
benchmarks/core/totient.bril
253 | ssa 566 | gvn 566
benchmarks/core/up-arrow.bril
252 | ssa 504 | gvn 497
sh cs6120/final/test_gvn.sh > temp.txt
user: sh cs6120/final/test_gvn.sh > temp.tx
benchmarks/core/ackermann.bril
base 1464231 | ssa 1464232 | gvn 1464232
base 768 | ssa 769 | gvn 769
benchmarks/core/armstrong.bril
base 133 | ssa 200 | gvn 196
base 133 | ssa 200 | gvn 196
benchmarks/core/bbs.bril
base 137 | ssa 185 | gvn 185
base 115 | ssa 157 | gvn 157
benchmarks/core/binary-fmt.bril
base 100 | ssa 196 | gvn 196
base 88 | ssa 173 | gvn 173
benchmarks/core/binpow.bril
base 105 | ssa 106 | gvn 106
base 89 | ssa 90 | gvn 90
benchmarks/core/bitshift.bril
base 167 | ssa 215 | gvn 186
base 135 | ssa 173 | gvn 151
benchmarks/core/bitwise-ops.bril
base 1690 | ssa 2416 | gvn 2414
base 1689 | ssa 2413 | gvn 2411
benchmarks/core/catalan.bril
base 659378 | ssa 1318756 | gvn 1299073
base 219791 | ssa 439582 | gvn 433021
benchmarks/core/check-primes.bril
base 8468 | ssa 17210 | gvn 14622
base 8322 | ssa 16913 | gvn 14369
benchmarks/core/collatz.bril
base 169 | ssa 263 | gvn 252
base 89 | ssa 140 | gvn 134
benchmarks/core/combination.bril
base 178 | ssa 185 | gvn 185
base 164 | ssa 171 | gvn 171
benchmarks/core/delannoy.bril
base 5748752 | ssa 5748753 | gvn 4045839
base 1052072 | ssa 1052073 | gvn 740419
benchmarks/core/digital-root.bril
base 247 | ssa 361 | gvn 360
base 247 | ssa 361 | gvn 360
benchmarks/core/euclid.bril
base 563 | ssa 891 | gvn 811
base 563 | ssa 891 | gvn 811
benchmarks/core/fact.bril
base 229 | ssa 230 | gvn 190
base 218 | ssa 219 | gvn 181
benchmarks/core/factors.bril
base 72 | ssa 135 | gvn 131
base 528 | ssa 948 | gvn 947
benchmarks/core/fib_recursive.bril
base 2693 | ssa 2694 | gvn 2198
base 1657 | ssa 1658 | gvn 1353
benchmarks/core/fitsinside.bril
base 10 | ssa 11 | gvn 11
base 10 | ssa 11 | gvn 11
benchmarks/core/fizz-buzz.bril
base 3652 | ssa 10452 | gvn 9532
base 3614 | ssa 10348 | gvn 9438
benchmarks/core/gcd.bril
base 46 | ssa 81 | gvn 81
base 82 | ssa 141 | gvn 141
benchmarks/core/gebmm.bril
base 3011 | ssa 4599 | gvn 4589
base 608 | ssa 1005 | gvn 1001
benchmarks/core/geometric-sum.bril
base 35 | ssa 56 | gvn 55
base 30 | ssa 48 | gvn 47
benchmarks/core/hamming.bril
base 117 | ssa 157 | gvn 156
base 117 | ssa 157 | gvn 156
benchmarks/core/hanoi.bril
base 99 | ssa 181 | gvn 181
base 47 | ssa 85 | gvn 85
benchmarks/core/is-decreasing.bril
base 127 | ssa 251 | gvn 245
base 42 | ssa 81 | gvn 79
benchmarks/core/karatsuba.bril
base 1548 | ssa 3492 | gvn 3400
base 1377 | ssa 3099 | gvn 3016
benchmarks/core/lcm.bril
base 2326 | ssa 3368 | gvn 3368
base 24970 | ssa 36076 | gvn 36076
benchmarks/core/loopfact.bril
base 116 | ssa 226 | gvn 201
base 103 | ssa 202 | gvn 180
benchmarks/core/mccarthy91.bril
base 1385 | ssa 1386 | gvn 1386
base 1401 | ssa 1402 | gvn 1402
benchmarks/core/mod_inv.bril
base 558 | ssa 1064 | gvn 886
base 545 | ssa 1050 | gvn 875
benchmarks/core/mod_pow.bril
base 243 | ssa 433 | gvn 380
base 226 | ssa 417 | gvn 367
benchmarks/core/montgomery.bril
base 17 | ssa 20 | gvn 20
base 17 | ssa 20 | gvn 20
benchmarks/core/orders.bril
base 5352 | ssa 8823 | gvn 8823
base 5873 | ssa 9570 | gvn 9570
benchmarks/core/palindrome.bril
base 298 | ssa 544 | gvn 536
base 240 | ssa 430 | gvn 422
benchmarks/core/pascals-row.bril
base 146 | ssa 301 | gvn 265
base 146 | ssa 301 | gvn 265
benchmarks/core/perfect.bril
base 232 | ssa 448 | gvn 447
base 233 | ssa 449 | gvn 448
benchmarks/core/permutation.bril
base 130 | ssa 250 | gvn 226
base 117 | ssa 226 | gvn 205
benchmarks/core/primes-between.bril
base 574100 | ssa 1120011 | gvn 1076970
base 574073 | ssa 1119947 | gvn 1076910
benchmarks/core/pythagorean_triple.bril
base 61518 | ssa 109034 | gvn 109034
base 60527 | ssa 107288 | gvn 107288
benchmarks/core/quadratic.bril
base 785 | ssa 1473 | gvn 615
base 819 | ssa 1537 | gvn 641
benchmarks/core/recfact.bril
base 104 | ssa 247 | gvn 239
base 91 | ssa 215 | gvn 208
benchmarks/core/rectangles-area-difference.bril
base 14 | ssa 21 | gvn 21
base 14 | ssa 21 | gvn 21
benchmarks/core/relative-primes.bril
base 1923 | ssa 5047 | gvn 4809
base 1923 | ssa 5047 | gvn 4809
benchmarks/core/reverse.bril
base 46 | ssa 90 | gvn 90
base 46 | ssa 90 | gvn 90
benchmarks/core/rot13.bril
base 8 | ssa 10 | gvn 10
base 8 | ssa 10 | gvn 10
benchmarks/core/sqrt_bin_search.bril
base 744 | ssa 1195 | gvn 1044
base 744 | ssa 1195 | gvn 1044
benchmarks/core/sum-bits.bril
base 73 | ssa 104 | gvn 103
base 73 | ssa 104 | gvn 103
benchmarks/core/sum-check.bril
base 5018 | ssa 8024 | gvn 8023
base 5013 | ssa 8016 | gvn 8015
benchmarks/core/sum-digits.bril
base 219 | ssa 447 | gvn 395
base 219 | ssa 447 | gvn 395
benchmarks/core/sum-divisors.bril
base 159 | ssa 346 | gvn 344
base 135 | ssa 286 | gvn 284
benchmarks/core/sum-sq-diff.bril
base 3038 | ssa 5689 | gvn 4986
base 3008 | ssa 5633 | gvn 4937
benchmarks/core/totient.bril
base 253 | ssa 566 | gvn 566
base 257 | ssa 585 | gvn 585
benchmarks/core/up-arrow.bril
base 252 | ssa 504 | gvn 497
base 22 | ssa 49 | gvn 47
python cs6120/final/plot.py
cs6120/final/plot.py:163: UserWarning: Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
plt.show()
--- % impact relative to Base ---
SSA   → greatest 186.20%, median 76.09%, lowest 0.00%
GVN   → greatest 161.01%, median 58.78%, lowest -29.62%
user: python cs6120/final/plot.py
/usr/lib/python3/dist-packages/requests/__init__.py:89: RequestsDependencyWarning: urllib3 (2.2.3) or chardet (3.0.4) doesn't match a supported version!
warnings.warn("urllib3 ({}) or chardet ({}) doesn't match a supported "
Traceback (most recent call last):
File "cs6120/final/plot.py", line 163, in <module>
plt.savefig()
File "/home/nya1025/.local/lib/python3.8/site-packages/matplotlib/pyplot.py", line 1023, in savefig
res = fig.savefig(*args, **kwargs)
TypeError: savefig() missing 1 required positional argument: 'fname'
python cs6120/final/plot.py
--- % impact relative to Base ---
SSA   → greatest 186.20%, median 76.09%, lowest 0.00%
GVN   → greatest 161.01%, median 58.78%, lowest -29.62%
python cs6120/final/plot.pysh cs6120/final/test_gvn.sh> temp.txt
python: can't open file 'cs6120/examples/lvn.py': [Errno 2] No such file or directory
Exception ignored in: <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>
BrokenPipeError: [Errno 32] Broken pipe
python: can't open file 'cs6120/examples/lvn.py': [Errno 2] No such file or directory
python: can't open file 'cs6120/examples/lvn.py': [Errno 2] No such file or directory
^CTraceback (most recent call last):
File "/home/nya1025/.local/bin/bril2json", line 10, in <module>
Traceback (most recent call last):
File "cs6120/final/gvn.py", line 270, in <module>
sys.exit(bril2json())
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/briltxt.py", line 339, in bril2json
main()
File "cs6120/final/gvn.py", line 220, in main
program_str = "".join(sys.stdin.readlines())
KeyboardInterrupt
print(parse_bril(sys.stdin.read(), '-p' in sys.argv[1:]))
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/briltxt.py", line 239, in parse_bril
tree = parser.parse(txt)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/lark.py", line 581, in parse
return self.parser.parse(text, start=start, on_error=on_error)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/parser_frontends.py", line 106, in parse
return self.parser.parse(stream, chosen_start, **kw)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/parsers/earley.py", line 297, in parse
to_scan = self._parse(lexer, columns, to_scan, start_symbol)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/parsers/xearley.py", line 142, in _parse
self.predict_and_complete(i, to_scan, columns, transitives)
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/parsers/earley.py", line 116, in predict_and_complete
new_item.node = node_cache[label] if label in node_cache else node_cache.setdefault(label, SymbolNode(*label))
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/parsers/earley_forest.py", line 61, in __init__
self._hash = hash((self.s, self.start, self.end))
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/grammar.py", line 20, in __hash__
def __hash__(self):
KeyboardInterrupt
sh cs6120/final/test_gvn.sh > temp.txt
python cs6120/final/plot.pysh cs6120/final/test_gvn.sh > temp.txt
^CTraceback (most recent call last):
File "/home/nya1025/.local/bin/bril2json", line 4, in <module>
from briltxt import bril2json
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/briltxt.py", line 10, in <module>
import lark
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/__init__.py", line 8, in <module>
from .lark import Lark
File "/home/nya1025/.local/share/uv/tools/briltxt/lib/python3.8/site-packages/lark/lark.py", line 6, in <module>
import sys, os, pickle, hashlib
File "/usr/lib/python3.8/pickle.py", line 73, in <module>
class PickleError(Exception):
KeyboardInterrupt
sh cs6120/final/test_gvn.sh > temp.txt
